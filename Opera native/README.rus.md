# Версия Opera native

Данная версия скрипта предназначения для использования встроенной поддержки юзерскриптов в Опере версий до 12.17 включительно. Она не требует установки движков типа Violentmonkey.

## Порядок установки

1. Создайте папку на диске, в которую вы собираетесь установить скрипт. 
2. Поместите в неё оба скрипта, а также файлы из [dependencies](https://github.com/Seedmanc/Tumblr-image-sorter/tree/master/dependencies) (некоторые файлы в этой директории могут быть ссылками, по которым нужно пройти для получения настоящего файла).
3. Откройте Тумблр и зайдите в настройки сайта в опере (`Edit site preferences`) через меню Инструментов или F12. Там перейдите на вкладку  `Scripting` и выберите папку установки в "User Javascript folder". Учтите, что может потребоваться повторить этот шаг для каждого сайта, на который интересующийся блог может ссылаться для хостинга изображений (как с animage).
4. Если у вас настроено по умолчанию блокировать флэш-контент до активации по клику, рекомендуется включить автоматическую активацию для выбранных сайтов на вкладке `Content`. 
5. Откройте любой тумблр-блог или ленту и убедитесь, что в заголовке вкладки отображается "▶[ " и количество фото в каждом найденном посте с тегами, это означает, что POST-скрипт работает. Затем откройте любое изображение из поста с тегами и убедитесь, что в левом верхнем углу отображается кнопка сохранения, это будет означать, что GET-скрипт также работает.

За информацией по остальной конфигурации скрипта обращайтесь к [пункту основного README](https://github.com/Seedmanc/Tumblr-image-sorter/README.rus.md#usage).

В дополнение к этому я также рекомендую установить расширение [No Click to Activate](https://addons.opera.com/en/extensions/details/no-click-to-activate/), чтобы избежать необходимости кликать кнопку сохранения дважды каждый раз.

## Особенности настроек, индивидуальные для данной версии

* **debug** - в версии Opera Native включение режиме отладки отключает функцию освобождение памяти.

  Данная функция индивидуальна для этой версии скрипта. Ее работа заключается в удалении флэш-объектов и переменных из памяти и со страницы как только они перестают быть нужны (все посты были обработаны в POST-скрипте или же изображение было успешно сохранено в GET-скрипте). Это делается для минимизации задержки, вызываемой скриптом при закрытии вкладки. Однако освобождение памяти делает невозможным доступ к флэш-бд из консоли. Поэтому активация режима отладки отключает данную функцию.
